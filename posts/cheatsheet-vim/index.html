<!doctype html><html lang=en dir=auto data-theme=dark><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Vim 命令不完全手册 | XhstormR</title><meta name=keywords content="CheatSheet"><meta name=description content="Vim 命令不完全手册 - XhstormR"><meta name=author content="map[email:xhstormr@example.org name:XhstormR]"><link rel=canonical href=https://xhstormr.github.io/blog/posts/cheatsheet-vim/><link crossorigin=anonymous href=/blog/assets/css/stylesheet.da3211e5ef867bf2b75fd5a6515cfed7195c011e8ab735694e203810a827097b.css integrity="sha256-2jIR5e+Ge/K3X9WmUVz+1xlcAR6KtzVpTiA4EKgnCXs=" rel="preload stylesheet" as=style><link rel=icon href=https://xhstormr.github.io/blog/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://xhstormr.github.io/blog/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://xhstormr.github.io/blog/favicon-32x32.png><link rel=apple-touch-icon href=https://xhstormr.github.io/blog/apple-touch-icon.png><link rel=mask-icon href=https://xhstormr.github.io/blog/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://xhstormr.github.io/blog/posts/cheatsheet-vim/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script>localStorage.getItem("pref-theme")==="light"&&(document.querySelector("html").dataset.theme="light")</script><meta property="og:url" content="https://xhstormr.github.io/blog/posts/cheatsheet-vim/"><meta property="og:site_name" content="XhstormR"><meta property="og:title" content="Vim 命令不完全手册"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2016-03-31T11:09:57+08:00"><meta property="article:modified_time" content="2016-03-31T11:09:57+08:00"><meta property="article:tag" content="CheatSheet"><meta name=twitter:card content="summary"><meta name=twitter:title content="Vim 命令不完全手册"><meta name=twitter:description content><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://xhstormr.github.io/blog/posts/"},{"@type":"ListItem","position":2,"name":"Vim 命令不完全手册","item":"https://xhstormr.github.io/blog/posts/cheatsheet-vim/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Vim 命令不完全手册","name":"Vim 命令不完全手册","description":"","keywords":["CheatSheet"],"articleBody":"Updated on 2018-01-02\nhttps://github.com/vim/vim\nhttps://vimhelp.org/options.txt.html\nhttp://www.lagmonster.org/docs/vi.html\nVim is often called a “programmer’s editor,” and so useful for programming that many consider it an entire IDE. It’s not just for programmers, though. Vim is perfect for all kinds of text editing, from composing email to editing configuration files.\n只要接触 Linux ，不可避免的会用到 Vim 编辑器。一方面它基本上是所有 Linux 发行版的默认编辑器；另一方面它是也一个拥有20年历史的超级强大的文本编辑器。\nvim +5 file #打开文件并跳到第5行，无数字跳到最后一行 vim +/abc file #打开文件并搜索 `abc`，按 n 切换至下一个 `abc` vim file1 file2 file3 #打开3个文件，按 `:n` 切换至下一个文件，`:N` or `:prev` 切换至上一个文件 \u003c----- a、i、o ↓↓ : -----\u003e 输入模式 命令模式 底行模式 ESC -----\u003e \u003c----- ESC 输入模式常用指令 Ctrl+C ESC Ctrl+N 自动补全 next Ctrl+P 自动补全 previous Ctrl+Y 自动输入与上一行相对应的字符 Ctrl+W 删除光标前的一个单词 Ctrl+U 删除光标前的所有字符 Ctrl+R 插入寄存器内容 底行模式常用指令 :w 保存 :w 123 将当前编辑的文件保存到 123 文件中 :q 退出 :q! 不保存退出 :x 保存并退出 :wq 保存并退出 :wqa 全部保存并退出 :15 跳到第15行 :e 123 打开 123 文件 :e! 放弃修改重新编辑 :b1 选择缓冲区(文件) (推荐) :bn 切换至下一缓冲区 :bN 切换至上一缓冲区 :bd 关闭当前缓冲区 :n 切换至下一个文件 :N 切换至上一个文件 :ls 列出打开的所有文件 :history 查看历史命令 :!ls -l 执行外部命令 :s/old/new/ 替换光标所在行第一次出现的 old 为 new :s/old/new/g 替换光标所在行全部的 old 为 new :1,10s/old/new/g 替换1到10行之间出现的 old 为 new :%s/old/new/g 替换全文的 old 为 new :%s/old/new/gc 替换全文的 old 为 new 并询问用户确认每个替换 :%TOhtml 把全文转化为 HTML 网页 命令模式常用指令 h j k l 左 下 上 右 a 在光标后进入输入模式 Append(追加) A 在行尾进入输入模式 i 在光标前进入输入模式 Insert(插入) I 在行首进入输入模式 o 在下方插入一行并进入输入模式 Open(打开) O 在上方插入一行并进入输入模式 b 光标移动到上一个单词 w 光标移动到下一个单词 e 光标移动到单词的结尾 B 光标移动到上一个单词，以空格为分隔符 W 光标移动到下一个单词，以空格为分隔符 E 光标移动到单词的结尾，以空格为分隔符 HOME 移动到行首 END 移动到行尾 PgUp 向上翻页 PgDn 向下翻页 Ctrl+B 向上翻页 Back Ctrl+F 向下翻页 Front D 删除所在行光标之后的内容 Delete(删除) C 删除所在行光标之后的内容并进入输入模式 Change(修改) dd 删除整行 cc 删除整行并进入输入模式 2de 删除光标处开始的 2 个单词 [执行次数，缺省1][操作符][操作对象] 2ce 删除光标处开始的 2 个单词并进入输入模式 yy 复制整行 Yank(复制) 5yy 复制光标处开始的 5 行 p 在光标后粘贴 Put(粘贴) 可粘贴最近一次删除的内容 P 在光标前粘贴 /abc 从光标位置向下搜索 `abc` ?abc 从光标位置向上搜索 `abc` n 显示搜索命令定位到的下一个字符串 N 显示搜索命令定位到的上一个字符串 r 替换当前字符 R 替换当前字符及其后的字符，直至按ESC键 x 删除当前字符 X 删除之前的字符 s 删除当前字符并进入输入模式 S 删除当前行并进入输入模式 u 撤销上一步的操作 U 撤销这一行的操作 Ctrl+R 恢复上一步的操作 ZZ 保存并退出 ZQ 不保存退出 zz 把光标所在的行置于屏幕中央 gg 跳到第一行 G 跳到最后一行 H 跳到屏幕第一行 M 跳到屏幕中间一行 L 跳到屏幕最后一行 % 跳到匹配括号的另一端 * 向下搜索光标下的单词 ^ 行首 $ 行尾 5j 向下移动 5 行 (Jump) 5J 向下合并 5 行 (Join) 15G 跳到第 15 行 Ctrl+D 移动半屏 Ctrl+^ 在打开的文件中切换 Ctrl+G 显示文本信息 g+Ctrl+G 显示全局文本信息 v 可视 V 可视行 Ctrl+Q 可视块 -\u003e Shift+I 批量插入 za 折叠 \u003c-\u003e 展开 zM 折叠所有代码 zR 展开所有代码 di( 删除 () 中的内容 inner da[ 删除 [] 中的内容，包括 [] all dtA 删除从光标处至 A 之间的内容 to dfA 删除从光标处至 A 之间的内容，包括 A found 分割窗口 :sp 123 水平分割窗口并打开文件123 :vsp 123 垂直分割窗口并打开文件123 Ctrl+W - S 水平分割窗口 Ctrl+W - V 垂直分割窗口 Ctrl+W - Q 退出当前窗口 Ctrl+W - W 切换窗口 Ctrl+W - 方向键 选择窗口 Tips： 大部分 Linux 发行版默认编辑器是 Vi，Vim 是它的升级版。 二者的区别： https://zh.m.wikipedia.org/zh-cn/Vi https://zh.m.wikipedia.org/zh-cn/Vim 配置文件： /etc/vimrc yum -y install vim #安装 Vim vim /root/.bashrc #设置别名，替换系统默认编辑器 alias vi=vim https://raw.githubusercontent.com/amix/vimrc/master/vimrcs/basic.vim https://raw.githubusercontent.com/vim/vim/master/runtime/rgb.txt https://raw.githubusercontent.com/vim/vim/master/runtime/doc/motion.txt https://raw.githubusercontent.com/vim/vim/master/runtime/doc/options.txt vimrc set nocp \"取消兼容 Vi set hlsearch \"高亮搜索 set incsearch \"实时搜索 set smartcase \"智能区分大小写 set ignorecase \"不区分大小写 set ruler \"显示行列信息 set number \"显示行号信息 set showcmd \"显示命令 set showmode \"显示模式 set showmatch \"显示配对括号 set matchtime=10 \"显示 1s set linebreak \"整词换行 set wildmenu \"显示补全行 set cursorline \"高亮当前行 set encoding=utf-8 \"设置文件编码 set fileencoding=utf-8 \"设置文件编码 set scrolloff=5 \"滚动缓冲区 set laststatus=2 \"总是显示状态栏 \"set statusline=%F%m \"设置状态栏 set colorcolumn=78 \"对齐线 set backspace=indent,eol,start \"使退格键工作 set tabstop=4 \"4 空格 set shiftwidth=4 \"4 空格 set softtabstop=4 \"4 空格 set smarttab \"智能 TAB set expandtab \"使用空格而不是 TAB set cindent \"使用 C 系缩进 set autoindent \"自动缩进 set smartindent \"智能缩进 set foldmethod=syntax \"开启代码折叠 set nofoldenable \"不自动进行代码折叠 set virtualedit=block \"启用虚拟编辑 setf c \"设置文件类型 syntax on \"开启语法高亮 syntax enable \"开启语法高亮 filetype on \"开启文件类型检测 filetype indent on \"开启缩进规则 autocmd InsertEnter,InsertLeave * set cursorline! \"高亮当前行切换显示 nmap :nohlsearch \"在命令模式下按 F2 相当于输入 `:nohlsearch` 跟一个回车，取消搜索高亮 nmap :w :!gcc % -o %\u003c \u0026\u0026 %\u003c \"保存 -\u003e 编译 -\u003e 运行 nmap h \"快速选择窗口 nmap j nmap k nmap l let mapleader=\";\" \"定义 vmap y \"+y \"vim 复制至系统剪贴板 nmap p \"+p \"系统剪贴板粘贴至 vim if has(\"gui_running\") \"GUI colorscheme evening \"配色方案 set lines=50 columns=120 \"窗口大小 set guifont=Consolas:h10:cANSI \"字体大小 set guicursor+=a:blinkon0 \"取消光标闪烁 set guioptions-=m \"取消菜单栏 set guioptions-=T \"取消工具栏 set guioptions-=l \"取消左滚动条 set guioptions-=L \"取消左滚动条 nmap :call ToggleScreen() nmap :call ToggleMenu() let s:flag_screen = 0 let s:flag_menu = 0 function ToggleScreen() if s:flag_screen simalt ~r~ \"窗口还原 else simalt ~x~ \"窗口最大化 endif let s:flag_screen = !s:flag_screen \"\"取反 endfunction function ToggleMenu() if s:flag_menu set guioptions-=m set guioptions-=T else set guioptions+=m set guioptions+=T endif let s:flag_menu = !s:flag_menu endfunction endif ","wordCount":"700","inLanguage":"en","datePublished":"2016-03-31T11:09:57+08:00","dateModified":"2016-03-31T11:09:57+08:00","author":{"@type":"Person","name":{"email":"xhstormr@example.org","name":"XhstormR"}},"mainEntityOfPage":{"@type":"WebPage","@id":"https://xhstormr.github.io/blog/posts/cheatsheet-vim/"},"publisher":{"@type":"Organization","name":"XhstormR","logo":{"@type":"ImageObject","url":"https://xhstormr.github.io/blog/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://xhstormr.github.io/blog/ accesskey=h title="XhstormR (Alt + H)">XhstormR</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://xhstormr.github.io/blog/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://xhstormr.github.io/blog/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://xhstormr.github.io/blog/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://xhstormr.github.io/blog/>Home</a>&nbsp;»&nbsp;<a href=https://xhstormr.github.io/blog/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Vim 命令不完全手册</h1><div class=post-meta><span title='2016-03-31 11:09:57 +0800 +0800'>2016-03-31</span>&nbsp;·&nbsp;<span>4 min</span>&nbsp;·&nbsp;<span>map[email:xhstormr@example.org name:XhstormR]</span>&nbsp;|&nbsp;<span>
<a href=https://github.com/XhstormR/blog/tree/master/content/posts/cheatsheet-vim.md rel="noopener noreferrer edit" target=_blank>Suggest Changes</a></span></div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#vimrc aria-label=vimrc>vimrc</a></li></ul></div></details></div><div class=post-content><p>Updated on 2018-01-02</p><blockquote><p><a href=https://github.com/vim/vim>https://github.com/vim/vim</a></p><p><a href=https://vimhelp.org/options.txt.html>https://vimhelp.org/options.txt.html</a></p><p><a href=http://www.lagmonster.org/docs/vi.html>http://www.lagmonster.org/docs/vi.html</a></p><img loading=lazy src=/blog/uploads/vim.png title=Vim><p>Vim is often called a &ldquo;programmer&rsquo;s editor,&rdquo; and so useful for programming that many consider it an entire IDE. It&rsquo;s not just for programmers, though. Vim is perfect for all kinds of text editing, from composing email to editing configuration files.</p><p>只要接触 Linux ，不可避免的会用到 Vim 编辑器。一方面它基本上是所有 Linux 发行版的默认编辑器；另一方面它是也一个拥有20年历史的超级强大的文本编辑器。</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>vim +5 file <span style=color:#75715e>#打开文件并跳到第5行，无数字跳到最后一行</span>
</span></span><span style=display:flex><span>vim +/abc file <span style=color:#75715e>#打开文件并搜索 `abc`，按 n 切换至下一个 `abc`</span>
</span></span><span style=display:flex><span>vim file1 file2 file3 <span style=color:#75715e>#打开3个文件，按 `:n` 切换至下一个文件，`:N` or `:prev` 切换至上一个文件</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  &lt;----- a、i、o   ↓↓   : -----&gt;
</span></span><span style=display:flex><span>输入模式         命令模式        底行模式
</span></span><span style=display:flex><span>       ESC -----&gt;      &lt;----- ESC
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>输入模式常用指令
</span></span><span style=display:flex><span>Ctrl+C     ESC
</span></span><span style=display:flex><span>Ctrl+N     自动补全     next
</span></span><span style=display:flex><span>Ctrl+P     自动补全     previous
</span></span><span style=display:flex><span>Ctrl+Y     自动输入与上一行相对应的字符
</span></span><span style=display:flex><span>Ctrl+W     删除光标前的一个单词
</span></span><span style=display:flex><span>Ctrl+U     删除光标前的所有字符
</span></span><span style=display:flex><span>Ctrl+R     插入寄存器内容
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>底行模式常用指令
</span></span><span style=display:flex><span>:w     保存
</span></span><span style=display:flex><span>:w <span style=color:#ae81ff>123</span>     将当前编辑的文件保存到 <span style=color:#ae81ff>123</span> 文件中
</span></span><span style=display:flex><span>:q     退出
</span></span><span style=display:flex><span>:q!    不保存退出
</span></span><span style=display:flex><span>:x     保存并退出
</span></span><span style=display:flex><span>:wq    保存并退出
</span></span><span style=display:flex><span>:wqa   全部保存并退出
</span></span><span style=display:flex><span>:15    跳到第15行
</span></span><span style=display:flex><span>:e <span style=color:#ae81ff>123</span>     打开 <span style=color:#ae81ff>123</span> 文件
</span></span><span style=display:flex><span>:e!     放弃修改重新编辑
</span></span><span style=display:flex><span>:b1     选择缓冲区<span style=color:#f92672>(</span>文件<span style=color:#f92672>)</span>     <span style=color:#f92672>(</span>推荐<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>:bn     切换至下一缓冲区
</span></span><span style=display:flex><span>:bN     切换至上一缓冲区
</span></span><span style=display:flex><span>:bd     关闭当前缓冲区
</span></span><span style=display:flex><span>:n     切换至下一个文件
</span></span><span style=display:flex><span>:N     切换至上一个文件
</span></span><span style=display:flex><span>:ls    列出打开的所有文件
</span></span><span style=display:flex><span>:history    查看历史命令
</span></span><span style=display:flex><span>:!ls -l     执行外部命令
</span></span><span style=display:flex><span>:s/old/new/     替换光标所在行第一次出现的 old 为 new
</span></span><span style=display:flex><span>:s/old/new/g     替换光标所在行全部的 old 为 new
</span></span><span style=display:flex><span>:1,10s/old/new/g     替换1到10行之间出现的 old 为 new
</span></span><span style=display:flex><span>:%s/old/new/g     替换全文的 old 为 new
</span></span><span style=display:flex><span>:%s/old/new/gc     替换全文的 old 为 new 并询问用户确认每个替换
</span></span><span style=display:flex><span>:%TOhtml     把全文转化为 HTML 网页
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>命令模式常用指令
</span></span><span style=display:flex><span>h    j    k    l
</span></span><span style=display:flex><span>左   下   上   右
</span></span><span style=display:flex><span>a     在光标后进入输入模式     Append<span style=color:#f92672>(</span>追加<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>A     在行尾进入输入模式
</span></span><span style=display:flex><span>i     在光标前进入输入模式     Insert<span style=color:#f92672>(</span>插入<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>I     在行首进入输入模式
</span></span><span style=display:flex><span>o     在下方插入一行并进入输入模式     Open<span style=color:#f92672>(</span>打开<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>O     在上方插入一行并进入输入模式
</span></span><span style=display:flex><span>b     光标移动到上一个单词
</span></span><span style=display:flex><span>w     光标移动到下一个单词
</span></span><span style=display:flex><span>e     光标移动到单词的结尾
</span></span><span style=display:flex><span>B     光标移动到上一个单词，以空格为分隔符
</span></span><span style=display:flex><span>W     光标移动到下一个单词，以空格为分隔符
</span></span><span style=display:flex><span>E     光标移动到单词的结尾，以空格为分隔符
</span></span><span style=display:flex><span>HOME     移动到行首
</span></span><span style=display:flex><span>END     移动到行尾
</span></span><span style=display:flex><span>PgUp     向上翻页
</span></span><span style=display:flex><span>PgDn     向下翻页
</span></span><span style=display:flex><span>Ctrl+B     向上翻页 Back
</span></span><span style=display:flex><span>Ctrl+F     向下翻页 Front
</span></span><span style=display:flex><span>D      删除所在行光标之后的内容     Delete<span style=color:#f92672>(</span>删除<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>C      删除所在行光标之后的内容并进入输入模式     Change<span style=color:#f92672>(</span>修改<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>dd     删除整行
</span></span><span style=display:flex><span>cc     删除整行并进入输入模式
</span></span><span style=display:flex><span>2de    删除光标处开始的 <span style=color:#ae81ff>2</span> 个单词     <span style=color:#f92672>[</span>执行次数，缺省1<span style=color:#f92672>][</span>操作符<span style=color:#f92672>][</span>操作对象<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>2ce    删除光标处开始的 <span style=color:#ae81ff>2</span> 个单词并进入输入模式
</span></span><span style=display:flex><span>yy     复制整行     Yank<span style=color:#f92672>(</span>复制<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>5yy    复制光标处开始的 <span style=color:#ae81ff>5</span> 行
</span></span><span style=display:flex><span>p      在光标后粘贴     Put<span style=color:#f92672>(</span>粘贴<span style=color:#f92672>)</span>     可粘贴最近一次删除的内容
</span></span><span style=display:flex><span>P      在光标前粘贴
</span></span><span style=display:flex><span>/abc     从光标位置向下搜索 <span style=color:#e6db74>`</span>abc<span style=color:#e6db74>`</span>
</span></span><span style=display:flex><span>?abc     从光标位置向上搜索 <span style=color:#e6db74>`</span>abc<span style=color:#e6db74>`</span>
</span></span><span style=display:flex><span>n     显示搜索命令定位到的下一个字符串
</span></span><span style=display:flex><span>N     显示搜索命令定位到的上一个字符串
</span></span><span style=display:flex><span>r     替换当前字符
</span></span><span style=display:flex><span>R     替换当前字符及其后的字符，直至按ESC键
</span></span><span style=display:flex><span>x     删除当前字符
</span></span><span style=display:flex><span>X     删除之前的字符
</span></span><span style=display:flex><span>s     删除当前字符并进入输入模式
</span></span><span style=display:flex><span>S     删除当前行并进入输入模式
</span></span><span style=display:flex><span>u     撤销上一步的操作
</span></span><span style=display:flex><span>U     撤销这一行的操作
</span></span><span style=display:flex><span>Ctrl+R     恢复上一步的操作
</span></span><span style=display:flex><span>ZZ     保存并退出
</span></span><span style=display:flex><span>ZQ     不保存退出
</span></span><span style=display:flex><span>zz     把光标所在的行置于屏幕中央
</span></span><span style=display:flex><span>gg     跳到第一行
</span></span><span style=display:flex><span>G     跳到最后一行
</span></span><span style=display:flex><span>H     跳到屏幕第一行
</span></span><span style=display:flex><span>M     跳到屏幕中间一行
</span></span><span style=display:flex><span>L     跳到屏幕最后一行
</span></span><span style=display:flex><span>%     跳到匹配括号的另一端
</span></span><span style=display:flex><span>*     向下搜索光标下的单词
</span></span><span style=display:flex><span>^     行首
</span></span><span style=display:flex><span>$     行尾
</span></span><span style=display:flex><span>5j     向下移动 <span style=color:#ae81ff>5</span> 行     <span style=color:#f92672>(</span>Jump<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>5J     向下合并 <span style=color:#ae81ff>5</span> 行     <span style=color:#f92672>(</span>Join<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>15G     跳到第 <span style=color:#ae81ff>15</span> 行
</span></span><span style=display:flex><span>Ctrl+D     移动半屏
</span></span><span style=display:flex><span>Ctrl+^     在打开的文件中切换
</span></span><span style=display:flex><span>Ctrl+G     显示文本信息
</span></span><span style=display:flex><span>g+Ctrl+G     显示全局文本信息
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>v     可视
</span></span><span style=display:flex><span>V     可视行
</span></span><span style=display:flex><span>Ctrl+Q     可视块 -&gt; Shift+I     批量插入
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>za     折叠 &lt;-&gt; 展开
</span></span><span style=display:flex><span>zM     折叠所有代码
</span></span><span style=display:flex><span>zR     展开所有代码
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>di<span style=color:#f92672>(</span>     删除 <span style=color:#f92672>()</span> 中的内容     inner
</span></span><span style=display:flex><span>da<span style=color:#f92672>[</span>     删除 <span style=color:#f92672>[]</span> 中的内容，包括 <span style=color:#f92672>[]</span>     all
</span></span><span style=display:flex><span>dtA     删除从光标处至 A 之间的内容     to
</span></span><span style=display:flex><span>dfA     删除从光标处至 A 之间的内容，包括 A     found
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>分割窗口
</span></span><span style=display:flex><span>:sp  <span style=color:#ae81ff>123</span>       水平分割窗口并打开文件123
</span></span><span style=display:flex><span>:vsp <span style=color:#ae81ff>123</span>       垂直分割窗口并打开文件123
</span></span><span style=display:flex><span>Ctrl+W - S     水平分割窗口
</span></span><span style=display:flex><span>Ctrl+W - V     垂直分割窗口
</span></span><span style=display:flex><span>Ctrl+W - Q     退出当前窗口
</span></span><span style=display:flex><span>Ctrl+W - W     切换窗口
</span></span><span style=display:flex><span>Ctrl+W - 方向键     选择窗口
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Tips：
</span></span><span style=display:flex><span>大部分 Linux 发行版默认编辑器是 Vi，Vim 是它的升级版。
</span></span><span style=display:flex><span>二者的区别：
</span></span><span style=display:flex><span>https://zh.m.wikipedia.org/zh-cn/Vi
</span></span><span style=display:flex><span>https://zh.m.wikipedia.org/zh-cn/Vim
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>配置文件：
</span></span><span style=display:flex><span>/etc/vimrc
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>yum -y install vim <span style=color:#75715e>#安装 Vim</span>
</span></span><span style=display:flex><span>vim /root/.bashrc <span style=color:#75715e>#设置别名，替换系统默认编辑器</span>
</span></span><span style=display:flex><span>    alias vi<span style=color:#f92672>=</span>vim
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>https://raw.githubusercontent.com/amix/vimrc/master/vimrcs/basic.vim
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>https://raw.githubusercontent.com/vim/vim/master/runtime/rgb.txt
</span></span><span style=display:flex><span>https://raw.githubusercontent.com/vim/vim/master/runtime/doc/motion.txt
</span></span><span style=display:flex><span>https://raw.githubusercontent.com/vim/vim/master/runtime/doc/options.txt
</span></span></code></pre></div><h2 id=vimrc>vimrc<a hidden class=anchor aria-hidden=true href=#vimrc>#</a></h2><pre tabindex=0><code>set nocp     &#34;取消兼容 Vi
set hlsearch     &#34;高亮搜索
set incsearch     &#34;实时搜索
set smartcase     &#34;智能区分大小写
set ignorecase     &#34;不区分大小写
set ruler      &#34;显示行列信息
set number     &#34;显示行号信息
set showcmd     &#34;显示命令
set showmode     &#34;显示模式
set showmatch     &#34;显示配对括号
set matchtime=10     &#34;显示 1s
set linebreak     &#34;整词换行
set wildmenu     &#34;显示补全行
set cursorline     &#34;高亮当前行
set encoding=utf-8     &#34;设置文件编码
set fileencoding=utf-8     &#34;设置文件编码
set scrolloff=5     &#34;滚动缓冲区
set laststatus=2     &#34;总是显示状态栏
&#34;set statusline=%F%m     &#34;设置状态栏
set colorcolumn=78     &#34;对齐线
set backspace=indent,eol,start     &#34;使退格键工作
set tabstop=4     &#34;4 空格
set shiftwidth=4     &#34;4 空格
set softtabstop=4     &#34;4 空格
set smarttab     &#34;智能 TAB
set expandtab     &#34;使用空格而不是 TAB
set cindent     &#34;使用 C 系缩进
set autoindent     &#34;自动缩进
set smartindent     &#34;智能缩进
set foldmethod=syntax     &#34;开启代码折叠
set nofoldenable     &#34;不自动进行代码折叠
set virtualedit=block     &#34;启用虚拟编辑

setf c     &#34;设置文件类型
syntax on     &#34;开启语法高亮
syntax enable     &#34;开启语法高亮
filetype on     &#34;开启文件类型检测
filetype indent on     &#34;开启缩进规则

autocmd InsertEnter,InsertLeave * set cursorline!     &#34;高亮当前行切换显示

nmap &lt;silent&gt; &lt;F2&gt; :nohlsearch &lt;CR&gt;     &#34;在命令模式下按 F2 相当于输入 `:nohlsearch` 跟一个回车，取消搜索高亮
nmap &lt;silent&gt; &lt;F8&gt; :w &lt;CR&gt; :!gcc % -o %&lt; &amp;&amp; %&lt; &lt;CR&gt;     &#34;保存 -&gt; 编译 -&gt; 运行

nmap &lt;silent&gt; &lt;C-H&gt; &lt;C-W&gt;h     &#34;快速选择窗口
nmap &lt;silent&gt; &lt;C-J&gt; &lt;C-W&gt;j
nmap &lt;silent&gt; &lt;C-K&gt; &lt;C-W&gt;k
nmap &lt;silent&gt; &lt;C-L&gt; &lt;C-W&gt;l

let mapleader=&#34;;&#34;     &#34;定义 &lt;Leader&gt;
vmap &lt;Leader&gt;y &#34;+y     &#34;vim 复制至系统剪贴板
nmap &lt;Leader&gt;p &#34;+p     &#34;系统剪贴板粘贴至 vim

if has(&#34;gui_running&#34;)     &#34;GUI
  colorscheme evening     &#34;配色方案
  set lines=50 columns=120     &#34;窗口大小
  set guifont=Consolas:h10:cANSI     &#34;字体大小
  set guicursor+=a:blinkon0     &#34;取消光标闪烁
  set guioptions-=m     &#34;取消菜单栏
  set guioptions-=T     &#34;取消工具栏
  set guioptions-=l     &#34;取消左滚动条
  set guioptions-=L     &#34;取消左滚动条

  nmap &lt;silent&gt; &lt;F3&gt; :call ToggleScreen()&lt;CR&gt;
  nmap &lt;silent&gt; &lt;F4&gt; :call ToggleMenu()&lt;CR&gt;

  let s:flag_screen = 0
  let s:flag_menu = 0

  function ToggleScreen()
    if s:flag_screen
      simalt ~r~     &#34;窗口还原
    else
      simalt ~x~     &#34;窗口最大化
    endif
    let s:flag_screen = !s:flag_screen     &#34;&#34;取反
  endfunction

  function ToggleMenu()
    if s:flag_menu
      set guioptions-=m
      set guioptions-=T
    else
      set guioptions+=m
      set guioptions+=T
    endif
    let s:flag_menu = !s:flag_menu
  endfunction

endif
</code></pre></div><footer class=post-footer><ul class=post-tags><li><a href=https://xhstormr.github.io/blog/tags/cheatsheet/>CheatSheet</a></li></ul><nav class=paginav><a class=prev href=https://xhstormr.github.io/blog/posts/cheatsheet-libvirt/><span class=title>« Prev</span><br><span>Libvirt 不完全使用手册</span>
</a><a class=next href=https://xhstormr.github.io/blog/posts/cmd-use-utf8/><span class=title>Next »</span><br><span>CMD 使用 UTF-8 编码</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Vim 命令不完全手册 on x" href="https://x.com/intent/tweet/?text=Vim%20%e5%91%bd%e4%bb%a4%e4%b8%8d%e5%ae%8c%e5%85%a8%e6%89%8b%e5%86%8c&amp;url=https%3a%2f%2fxhstormr.github.io%2fblog%2fposts%2fcheatsheet-vim%2f&amp;hashtags=CheatSheet"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Vim 命令不完全手册 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fxhstormr.github.io%2fblog%2fposts%2fcheatsheet-vim%2f&amp;title=Vim%20%e5%91%bd%e4%bb%a4%e4%b8%8d%e5%ae%8c%e5%85%a8%e6%89%8b%e5%86%8c&amp;summary=Vim%20%e5%91%bd%e4%bb%a4%e4%b8%8d%e5%ae%8c%e5%85%a8%e6%89%8b%e5%86%8c&amp;source=https%3a%2f%2fxhstormr.github.io%2fblog%2fposts%2fcheatsheet-vim%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Vim 命令不完全手册 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fxhstormr.github.io%2fblog%2fposts%2fcheatsheet-vim%2f&title=Vim%20%e5%91%bd%e4%bb%a4%e4%b8%8d%e5%ae%8c%e5%85%a8%e6%89%8b%e5%86%8c"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Vim 命令不完全手册 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fxhstormr.github.io%2fblog%2fposts%2fcheatsheet-vim%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Vim 命令不完全手册 on whatsapp" href="https://api.whatsapp.com/send?text=Vim%20%e5%91%bd%e4%bb%a4%e4%b8%8d%e5%ae%8c%e5%85%a8%e6%89%8b%e5%86%8c%20-%20https%3a%2f%2fxhstormr.github.io%2fblog%2fposts%2fcheatsheet-vim%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Vim 命令不完全手册 on telegram" href="https://telegram.me/share/url?text=Vim%20%e5%91%bd%e4%bb%a4%e4%b8%8d%e5%ae%8c%e5%85%a8%e6%89%8b%e5%86%8c&amp;url=https%3a%2f%2fxhstormr.github.io%2fblog%2fposts%2fcheatsheet-vim%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentColor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Vim 命令不完全手册 on ycombinator" href="https://news.ycombinator.com/submitlink?t=Vim%20%e5%91%bd%e4%bb%a4%e4%b8%8d%e5%ae%8c%e5%85%a8%e6%89%8b%e5%86%8c&u=https%3a%2f%2fxhstormr.github.io%2fblog%2fposts%2fcheatsheet-vim%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer><script src=https://giscus.app/client.js data-repo=XhstormR/blog data-repo-id="MDEwOlJlcG9zaXRvcnk1MTI5OTI1NQ==" data-category=Announcements data-category-id=DIC_kwDOAw7Dt84C1abT data-mapping=og:title data-strict=1 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=preferred_color_scheme data-lang=zh-CN data-loading=lazy crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2026 <a href=https://xhstormr.github.io/blog/>XhstormR</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>